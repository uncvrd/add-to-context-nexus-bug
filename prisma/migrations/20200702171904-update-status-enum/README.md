# Migration `20200702171904-update-status-enum`

This migration has been generated by Jordan Lewallen at 7/2/2020, 5:19:04 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Status_new" AS ENUM ('IN_REVIEW', 'APPROVED', 'DENIED');
ALTER TABLE "public"."Rumor" ALTER COLUMN "status" DROP DEFAULT,
                        ALTER COLUMN "status" TYPE "Status_new" USING ("status"::text::"Status_new"),
                        ALTER COLUMN "status" SET DEFAULT 'IN_REVIEW';
ALTER TYPE "Status" RENAME TO "Status_old";
ALTER TYPE "Status_new" RENAME TO "Status";
DROP TYPE "Status_old"

ALTER TABLE "public"."Rumor" ALTER COLUMN "status" SET DEFAULT E'IN_REVIEW';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200701221701-make-image-urlartist-optional..20200702171904-update-status-enum
--- datamodel.dml
+++ datamodel.dml
@@ -1,15 +1,15 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator prisma_client {
   provider = "prisma-client-js"
 }
 enum Status {
-  REVIEW
+  IN_REVIEW
   APPROVED
   DENIED
 }
@@ -46,9 +46,9 @@
 model Rumor {
   id Int @id @default(autoincrement())
   title String
   date DateTime
-  status Status @default(REVIEW)
+  status Status @default(IN_REVIEW)
   artists Artist[] @relation(references: [id])
   user User @relation(fields: [userId], references: [id])
   userId Int
 }
```


