# Migration `20200707203555-add-user-to-album-collection`

This migration has been generated by Jordan Lewallen at 7/7/2020, 8:35:55 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."_AlbumToUser" (
"A" integer  NOT NULL ,"B" integer  NOT NULL )

CREATE UNIQUE INDEX "_AlbumToUser_AB_unique" ON "public"."_AlbumToUser"("A","B")

CREATE  INDEX "_AlbumToUser_B_index" ON "public"."_AlbumToUser"("B")

ALTER TABLE "public"."_AlbumToUser" ADD FOREIGN KEY ("A")REFERENCES "public"."Album"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."_AlbumToUser" ADD FOREIGN KEY ("B")REFERENCES "public"."User"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200705113239-add-required-creator-rumor..20200707203555-add-user-to-album-collection
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator prisma_client {
   provider = "prisma-client-js"
@@ -13,17 +13,18 @@
   DENIED
 }
 model User {
-  id        Int      @id @default(autoincrement())
-  uid       String   @unique
-  email     String   @unique
-  username  String   @unique
-  imageURL  String?
-  bio       String?
-  artistId  Int?
-  following Artist[]
-  rumors    Rumor[]
+  id         Int      @id @default(autoincrement())
+  uid        String   @unique
+  email      String   @unique
+  username   String   @unique
+  imageURL   String?
+  bio        String?
+  artistId   Int?
+  following  Artist[]
+  rumors     Rumor[]
+  collection Album[]
 }
 model Album {
   id       Int      @id @default(autoincrement())
@@ -32,8 +33,9 @@
   appleId  Int      @unique
   date     DateTime
   imageURL String?
   artists  Artist[]
+  savedBy  User[]
 }
 model Artist {
   id        Int     @id @default(autoincrement())
```


